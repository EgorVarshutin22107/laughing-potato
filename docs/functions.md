# Функциональные модели
-----------------------------------------------------

## Описание сценария использования в формате пинг-понга 

### Создание нового персонажа

1. **Пользователь запускает игру:**
   - Пользователь выбирает опцию "Запустить игру" и вводит 1, если хочет начать игру.

2. **Пользователь вводит имя персонажа:**
   - Пользователь вводит имя персонажа.
   - Приложение принимает имя персонажа и продолжает выполнение.

### Перемещение по подземелью

1. **Пользователь использует клавиши управления:**
   - Пользователь нажимает стрелочные клавиши для перемещения по подземелью.
   - Приложение обрабатывает ввод пользователя и перемещает персонажа соответственно.

### Сбор монеток

1. **Пользователь подходит к монетке:**
   - Пользователь перемещает персонажа к монетке.
 
2. **Пользователь подбирает монетку:**
   - Пользователь нажимает клавишу "R".
   - Приложение увеличивает количество монеток у персонажа и выводит сообщение об этом.

### Обнаружение секретных комнат

1. **Персонаж обнаруживает скрытую дверь:**
   - Персонаж исследует подземелье.
   - Приложение определяет, что персонаж обнаружил скрытую дверь и выводит сообщение об этом.

### Завершение игры

1. **Достижение финального количества монеток:**
   - Персонаж собирает 20 монеток.
   - Приложение выводит сообщение о завершении игры и статистику.
 
2. **Проигрыш из-за временного ограничения:**
   - Время игры истекло, несмотря на то, что персонаж не собрал 10 монеток.
   - Приложение выводит сообщение о поражении и статистику.

3. **Выход из игры:**
   - Пользователь нажимает кнопку "ё" на клавиатуре.
   - Приложение завершает игру и выводит статистику.
	
---------------------------------------------------------------------
## Диаграмма активности


### Новый персонаж:

```mermaid
stateDiagram-v2
node1: Ввод имени персонажа
node2: Ожидание нажатия клавиши Enter
node3: Проверка формата
state if_state1 <<choice>>
state if_state2 <<choice>>

[*] --> node1
node1 --> node2
node2 --> if_state1
if_state1 --> node3 : Нажат enter
if_state1 --> node2 : Не enter
node3 --> if_state2
if_state2 --> [*] : Валидно
if_state2 --> node1 : Не валидно
```

---------------------------------------------------------------------
### Перемещение по подземелью

```mermaid
stateDiagram-v2
node1: Нажатие клавиши управления
node2: Есть ли преграда?
state if_state1 <<choice>>
state if_state2 <<choice>>

[*] --> node1 
node1 --> if_state1
if_state1 --> node1 : Не клавиша управления
if_state1 --> node2 : Клавиша управления
node2 --> if_state2
if_state2 --> [*] : Преграда не обнаружена
if_state2 --> node1 : Обнаружена преграда
```


---------------------------------------------------------------------
### Сбор монеток

```mermaid
stateDiagram-v2
node1: Пользователь в зоне действия монетки?
node2: Ожидание нажатия клавиши "R"
node3: Запись в счетчик монет
state if_state1 <<choice>>
state if_state2 <<choice>>

[*] --> node1 
node1 --> if_state1
if_state1 --> node2 : В зоне действия монетки
if_state1 --> [*] : Не в зоне действия монетки
node2 --> if_state2
if_state2 --> node2 : Нажата не клавиша "R"
if_state2 --> node3 : Нажата клавиша "R"
node3 --> [*] 
```


---------------------------------------------------------------------


## Диаграммы алгоритмов

### Диаграммы состояний 

**Создание нового персонажа**

```mermaid
stateDiagram-v2
node1: Запуск игры
node2: Пользователь запустил игру?
node3: Ввод имени
node4: Начало
state if_state <<choice>>
state if_state2 <<choice>>

[*] --> node1
node1 --> node2
node2 --> if_state
if_state --> [*]: Нет
if_state --> node3: Да
node3 --> if_state2
if_state2 --> node4: Ввел
node4 --> [*]
if_state2 --> node3: Не ввел/Не валидно
```


---------------------------------------------------------------------

**Перемещение по подземелью**
```mermaid
stateDiagram-v2
node1: Ввод
node2: Стрелочная клавиша?
node3: Есть место для перемещения?
node4: Перемещение
state if_state <<choice>>

[*] --> node1
node1 --> node2
node2 --> if_state
if_state --> node1: Нет
if_state --> node3: Да
node3 --> node4: да
node3 --> node1: нет
node4 --> [*]

```


---------------------------------------------------------------------

**Gameplay**
```mermaid
stateDiagram-v2
node1: Старт игры
node2: В игре
node3: Нахождение монетки
node4: Сбор монетки
node5: Конец игры
node6: Запуск таймера
node7: Таймер закончился?
state if_state <<choice>>
state if_state2 <<choice>>
    [*] --> node1
    node1 --> node6
    node6 --> if_state
    if_state --> node7
    node7 --> node2: нет
    node7 --> node5: да
    node2 --> node3
    node3 --> node4
    node4 --> if_state2: собрали монетки?
    if_state2 --> [*]: да
    if_state2 --> node7: нет
    node5 --> [*]
```


---------------------------------------------------------------------


### Диаграмма последовательности

**Обнаружение скрытой двери**
```mermaid
sequenceDiagram
actor student as Студент
participant character as Персонаж
participant door as Скрытая дверь

alt Обнаружена
    student->>character: Управление персонажем
    character->>door: Зашел в зону появления надписи о скрытой двери
    door->>student: Вылезает надпись "Обнаружена скрытая дверь"
    character->>door: Заходит в скрытую дверь
    door->>character: Перемещает на другю локацию
    character->>door: Не зашел в зону действия скрытой двери
end

alt Не обнаружена
    door->>student: Ничего не выводит
    character->>door: Не может войти никуда
end
```
