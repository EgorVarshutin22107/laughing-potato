# Функциональные модели
-----------------------------------------------------

## Описание сценария использования в формате пинг-понга 

### Создание нового персонажа

1. **Пользователь запускает игру:**
   - Пользователь выбирает опцию "Запустить игру", если хочет начать игру.
   - Генерируется лабиринт с монетами и персонажем

### Перемещение по лабиринту

1. **Пользователь использует клавиши управления:**
   - Пользователь нажимает стрелочные клавиши для перемещения по лабиринту.
   - Приложение обрабатывает ввод пользователя и перемещает персонажа соответственно.

### Сбор монеток

1. **Пользователь подходит к монетке:**
   - Пользователь перемещает персонажа к монетке.
 
2. **Пользователь подбирает монетку:**
   - Пользователь проходит через монетку.
   - Приложение увеличивает количество монеток у персонажа и счетчик монет увеличивается.

3. **Персонаж подбирает монетку-замедляку"**
   - Проходит через монетку
   - Накладывается эффект замедления на 5 секунд 

### Завершение игры
 
1. **Проигрыш из-за временного ограничения:**
   - Прошло 120 секунд.
   - Приложение завершает игру и выводит статистику.

2. **Выход из игры:**
   - Пользователь нажимает кнопку "ё" на клавиатуре.
   - Приложение завершает игру и выводит статистику.
	
---------------------------------------------------------------------
## Диаграмма вариантов использования приложения

```mermaid
graph TD
    actor[Пользователь]
    
    actor --> |Запустить игру| startGame[Запустить игру]
    actor --> |Выйти из игры| exitGame[Выйти из игры]
    actor --> |Создать персонажа| createCharacter[Создать персонажа]
    actor --> |Перемещаться по лабиринту| move[Перемещаться по лабиринту]
    actor --> |Собирать монетки| collectCoins[Собирать монетки]
    actor --> |Собирать монетки-замедляки| collectSlowCoins[Собирать монетки-замедляки]
    actor --> |Завершить игру| endGame[Завершить игру]

    startGame --> createCharacter
    createCharacter --> move
    move --> collectCoins
    move --> collectSlowCoins

    endGame --> |Ограничение сеанса в 120 секунд| showStats[Отображение статистики игры]
    endGame --> |Выход из игры по клавише ё| showStats

    collectCoins --> updateCoinCounter[Обновление счетчика монеток]
    collectSlowCoins --> slowDownCharacter[Замедление персонажа на 5 секунд]
```


---------------------------------------------------------------------
## Диаграмма активности


### Запуск игры и новый персонаж:

```mermaid
graph TD
    A[Начало] --> B[Запуск игры]
    B --> C{Выбор опции}
    C -->|Запустить игру| D[Сгенерировать новый лабиринт]
    D --> E[Создать персонажа]
    E --> F[Начать игру]
    C -->|Выйти из игры| G[Завершение]
    F --> H[Игровой процесс]
    G --> I[Конец]
```

---------------------------------------------------------------------
### Перемещение по подземелью

```mermaid
graph TD
    A[Игровой процесс] --> B{Нажатие клавиш управления}
    B -->|Стрелка вверх| C[Перемещение вверх]
    B -->|Стрелка вниз| D[Перемещение вниз]
    B -->|Стрелка влево| E[Перемещение влево]
    B -->|Стрелка вправо| F[Перемещение вправо]
    C --> G{Столкновение с монеткой?}
    D --> G
    E --> G
    F --> G
    G -->|Да| H[Подбор монетки]
    G -->|Нет| I[Продолжение движения]
    H --> J[Увеличение счетчика монет]
    H --> K[Проверка на замедляющую монетку]
    K -->|Да| L[Замедление персонажа на 5 секунд]
    K -->|Нет| I
    L --> I
    I --> B
```


---------------------------------------------------------------------
### Завершение и вывод статистики

```mermaid
graph TD
    A[Игровой процесс] --> B{Время закончилось или нажата клавиша ё?}
    B -->|Да| C[Завершение игры]
    B -->|Нет| D[Продолжение игры]
    C --> E[Сбор статистики]
    E --> F[Вывод статистики]
    F --> G[Конец]
    D --> A
```


---------------------------------------------------------------------


## Диаграммы алгоритмов

### Диаграммы состояний 

**Создание нового персонажа**

```mermaid
stateDiagram-v2
node1: Запуск игры
node2: Пользователь запустил игру?
node3: Ввод имени
node4: Начало
state if_state <<choice>>
state if_state2 <<choice>>

[*] --> node1
node1 --> node2
node2 --> if_state
if_state --> [*]: Нет
if_state --> node3: Да
node3 --> if_state2
if_state2 --> node4: Ввел
node4 --> [*]
if_state2 --> node3: Не ввел/Не валидно
```


---------------------------------------------------------------------

**Перемещение по подземелью**
```mermaid
stateDiagram-v2
node1: Ввод
node2: Стрелочная клавиша?
node3: Есть место для перемещения?
node4: Перемещение
state if_state <<choice>>

[*] --> node1
node1 --> node2
node2 --> if_state
if_state --> node1: Нет
if_state --> node3: Да
node3 --> node4: да
node3 --> node1: нет
node4 --> [*]

```


---------------------------------------------------------------------

**Gameplay**
```mermaid
stateDiagram-v2
node1: Старт игры
node2: В игре
node3: Нахождение монетки
node4: Сбор монетки
node5: Конец игры
node6: Запуск таймера
node7: Таймер закончился?
state if_state <<choice>>
state if_state2 <<choice>>
    [*] --> node1
    node1 --> node6
    node6 --> if_state
    if_state --> node7
    node7 --> node2: нет
    node7 --> node5: да
    node2 --> node3
    node3 --> node4
    node4 --> if_state2: собрали монетки?
    if_state2 --> [*]: да
    if_state2 --> node7: нет
    node5 --> [*]
```


---------------------------------------------------------------------


### Диаграмма последовательности

**Обнаружение скрытой двери**
```mermaid
sequenceDiagram
actor student as Студент
participant character as Персонаж
participant door as Скрытая дверь

alt Обнаружена
    student->>character: Управление персонажем
    character->>door: Зашел в зону появления надписи о скрытой двери
    door->>student: Вылезает надпись "Обнаружена скрытая дверь"
    character->>door: Заходит в скрытую дверь
    door->>character: Перемещает на другю локацию
    character->>door: Не зашел в зону действия скрытой двери
end

alt Не обнаружена
    door->>student: Ничего не выводит
    character->>door: Не может войти никуда
end
```
